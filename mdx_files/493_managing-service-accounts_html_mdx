https://code.kx.com/insights/enterprise/security/managing-service-accounts.html

# Managing service accounts - kdb products

Original URL: https://code.kx.com/insights/enterprise/security/managing-service-accounts.html

# Managing service accounts

Service accounts are used to enable programmatic access to Insights services.
The following table displays the key variables used in the process of managing
service accounts.

Variable | Description  
---|---  
$KC_CLIENT_ID | Client ID for the service account  
$KC_CLIENT_SECRET | Client secret for the service account  
  
## Creating service accounts

## Assigning roles

Service account user names

Each client has an associated service account user named `service-
account-$KC_CLIENT_ID`. This is the one that you need to assign the role to.

## Retrieving a secret

## Obtaining an access token

To obtain an access token using the CLI, you must first configure and then
authenticate your CLI. For more information on authentication, refer to the
[Authenticating as a service
account](../cli/authentication.html#authenticating-as-a-service-account).

  1. Configure your CLI.

  2. Authenticate using your service account.
    
        kxi auth login --serviceaccount
    

  3. Obtain your access token. 

## Initial service account

You can create a service account when installing _kdb Insights Enterprise_.
Set service account details in the install configuration file.

    
    
    keycloak:
      initClient:
        enabled: true                  # Enable the service account
        clientId: "test-publisher"     # Name for the service account
        clientSecret: "sp3cials3cr3t"  # Secret for the service account
    

Read the [configuration documentation](../configuration/security.html#initial-
client) for information.

## Default clients

_kdb Insights Enterprise_ comes with internal clients as part of the
application. These are for system use and should not be updated by the user.

client  
---  
account  
account-console  
admin-cli  
broker  
gui  
kxi-operator  
realm-management  
security-admin-console

